<p id="notice"><%= notice %></p>

<div class="columns">
  <div class="column">
    <h1 class="title">Qr Codes</h1>
  </div>
  <div class="column is-flex is-flex-direction-row-reverse">
    <%= link_to 'New Qr Code', new_qr_code_path, class: "button is-primary" %>
  </div>
</div>

<table class="table">
  <thead>
    <tr>
      <th>QR Code</th>
      <th>Link</th>
      <th>External ID</th>
      <th>Scans</th>
      <th>Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @qr_codes.each do |qr_code| %>
      <tr class="table-row">
        <td><%= RQRCode::QRCode.new(qr_code_link_url(qr_code.external_id)).as_svg.html_safe %></td>
        <td><%= link_to "Go to Destination", qr_code.data, class: "button is-info", target: "_blank" %></td>
        <td><%= qr_code.external_id %></td>
        <td><%= qr_code.scans %></td>
        <td>
          <div class="buttons has-addons">
            <%= link_to 'Destroy', qr_code, class: 'button is-danger', method: :delete, data: { confirm: 'Are you sure?' } %>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
